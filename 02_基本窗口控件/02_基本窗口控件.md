# 笔记

## 窗口类型介绍

在PyQt中把没有嵌入到其他控件中的控件称为窗口, 一般窗口都有边框, 标题. 窗口是指程序的整体界面, 可以包含标题栏, 菜单栏, 工具栏, 关闭按钮, 最小化按钮, 最大化按钮等; 控件是指按钮, 复选框, 文本框, 表格,进度条等这些组成程序的基本元素.

QWidget(基础控件), QMainWindow(主窗口控件), QDialog(对话框控件) 三个类都是用来创建窗口的, 可以直接使用, 也可以继承后再使用.

QWidget 是所有用户界面对象的基类, 是在PyQt中建立界面的主要元素.  
QMainWindow 主窗口可以包含菜单栏, 工具栏, 状态栏, 标题栏等, 是最常见的窗口形式, 也可以说是GUI程序的主窗口.  
QDialog 是对话框窗口的基类. 对话框主要用来执行短期任务, 或者与用户进行互动, 它可以是模态(modal), 也可以非模态(not modal). QDialog窗口没有菜单栏, 工具栏, 状态栏等.

如果是主窗口, 就使用QMainWindow类; 如果会对话框, 就使用QDialog类; 如果不确定, 或者有可能作为顶层窗口, 也有可能嵌入到其他窗口中, 那么就是用QWidget类.

### 补充一些常用的

PyQt5.QtWidgets.QDesktopWidget类, 用于描述系统桌面屏幕的大小.

QApplication.instance() 方法, 这是一个类方法, 返回应用对象的实例, 这样就可以在任何地方使用应用实例了.

## QWidget

## QMain Window

`PyQt5.QtWidgets.QMainWindow` 是一个类, 继承自QWidget类, 拥有所有QWidget的方法和属性.

    QWidget
        |
        +- QMainWindow

如果一个窗口没有父窗口, 其就是顶层窗口, QMainWindow就是一个用于顶层窗口的类. 它可以包含很多界面元素, 如菜单栏, 工具栏, 状态栏, 子窗口等.

QMainWindow提供的布局如下图.

![QMainWindow_Layout](./img/1_QMainWindow_Layout.png)

**note:** QMainWindow不能设置布局(使用setLayout()方法), 因为其有自己的布局.

### QMainWindow类中比较重要的方法

addToolBar() : 添加工具栏  
centralWidget() : 返回窗口中心的一个控件, 未设置时返回NULL  
menuBar() : 返回主窗口的菜单栏  
setCentralWidget() : 设置窗口中心的控件  
setStatusBar() : 设置状态栏  
statusBar() : 获得状态栏对象后, 调节状态栏对象的showMessage(message, int timeout=0)方法, 像是状态信息.

**常用方法补充**

QMainWindow.setWindowTitle() : 设置主窗口标题  
QMainWindow.resize() : 重置窗口大小  
QMainWindow.move() : 移动应用窗口的位置  
QMainWindow.geometry() -> QRect : 获取QWidget窗口的大小  
QMainWindow.setGeometry() : 设置QWidget窗口的位置, 大小  
QMainWindow.sender() : 返回信号发送对象  
